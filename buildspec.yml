version: 0.2

phases:
  install:
    runtime-versions:
        nodejs: 18
    commands:
      - npm install -g aws-cdk
      - echo installing python 
      - sudo apt-get update
      - sudo apt-get install -y python3 python3-pip
      - python --version
      - pip install --upgrade pip
      - pip install awscli
      - echo 'Installing dependencies'
      - cdk list  

  pre_build:
    commands:
      - echo Not implemented  yet
  build:
    commands:
      - echo Not implemented  yet
       #- cd iac/cdk
       #- echo 'Deploying the following Cloud formation stacks'
       #- cdk list -c environment=${ENVIRONMENT} -c region=${REGION}
       #- cdk deploy '*' --require-approval never -c environment=${ENVIRONMENT} -c region=${REGION} --toolkit-stack-name a206145-CdkToolkit